(()=>{"use strict";var e,t={2627:(e,t,a)=>{const r=window.wp.blocks;var n=a(1609),i=a(6817);const o=window.wp.apiFetch;var s=a.n(o);const c=window.wp.coreData,l=window.wp.data,m=window.wp.element;var u=a(982),d=a(3021),p=a(3590);function h(e){e.preventDefault()}function g(e){return(0,n.createElement)("a",{onClick:h,...e})}const f=a.p+"images/default-user-portrait.bdc37e1b.png";var w=a(7438),v=a(3643);function b(e,t={}){const a={stripTags:!0,...t},{stripTags:r}=a;return(0,v.pipe)(e.title.rendered,r?e=>(0,w.QZ)(e).result:e=>e)}const N=window.wp.blockEditor,k=window.wp.components;var y=a(6005);function E({styles:e,...t}){return(0,n.createElement)(y.Ay,{isSearchable:!0,styles:{container:(t,a)=>({...t,flex:1,...e?.container?.(t,a)}),input:(t,a)=>({...t,"input:focus":{boxShadow:"none"},...e?.input?.(t,a)}),...e},...t})}const P=a.p+"images/default-user-landscape.0cd19a25.png";function $(e,t={}){const a={defaultImg:P,...t},{defaultImg:r,size:n}=a,{_embedded:i}=e;try{if(!i)throw new D;if(0===i["wp:featuredmedia"].length)throw new D;const e=i["wp:featuredmedia"][0];if(!e)throw new D;if(!n){if(!e?.source_url)throw new D;return e.source_url}const t=e.media_details.sizes[n];if(!t){if(!e.source_url)throw new D;return e.source_url}return t.source_url}catch(e){return r}}class D extends Error{}function _({professorInfoPreview:e,setProfessorInfoPreview:t}){const a=(0,l.useSelect)((e=>e(c.store).getEntityRecords("postType","professor",{per_page:-1,_embed:!0})),[]),r=a?.map((e=>({label:b(e),value:e.id,id:e.id,content:e.content.rendered,thumbnailUrl:$(e,{size:"professor-portrait",defaultImg:f}),hasLiked:!1,likeCount:0,relatedProgramsIds:e.acf.related_programs})));return(0,n.createElement)(N.InspectorControls,{group:"settings"},(0,n.createElement)(k.PanelBody,{title:"Professor Preview",initialOpen:!0},(0,n.createElement)(k.PanelRow,null,(0,n.createElement)(E,{name:"professor",isLoading:!a,value:e,onChange:function(e){t(e||void 0)},options:r}))))}class C{static DomainName="cetacean-university-theme";static Banner=`${this.DomainName}/banner`;static Heading=`${this.DomainName}/heading`;static Button=`${this.DomainName}/button`;static EventsAndPosts=`${this.DomainName}/events-and-posts`;static Header=`${this.DomainName}/header`;static Footer=`${this.DomainName}/footer`;static Menu=`${this.DomainName}/menu`;static Slider=`${this.DomainName}/slider`;static Slide=`${this.DomainName}/slide`;static PageBannerTitle=`${this.DomainName}/page-banner-title`;static PageBannerSubtitle=`${this.DomainName}/page-banner-subtitle`;static PageBannerGeneric=`${this.DomainName}/page-banner-generic`;static PostContent=`${this.DomainName}/post-content`;static PageContent=`${this.DomainName}/page-content`;static CampusContent=`${this.DomainName}/campus-content`;static EventContent=`${this.DomainName}/event-content`;static ProgramContent=`${this.DomainName}/program-content`;static ProfessorContent=`${this.DomainName}/professor-content`;static BlogPosts=`${this.DomainName}/blog-posts`;static UpcomingEvents=`${this.DomainName}/upcoming-events`;static PastEvents=`${this.DomainName}/past-events`;static AllPrograms=`${this.DomainName}/all-programs`;static CampusesMap=`${this.DomainName}/campuses-map`;static NoteManager=`${this.DomainName}/note-manager`;static SearchForm=`${this.DomainName}/search-form`;static SearchResults=`${this.DomainName}/search-results`;static BlockCategory="cetacean-university"}(0,r.registerBlockType)(C.ProfessorContent,{title:"Professor Content",category:C.BlockCategory,icon:"businessman",attributes:{},edit:function(e){const{attributes:t,setAttributes:a}=e,r={id:0,content:"{Professor Content}",hasLiked:!1,likeCount:0,thumbnailUrl:f,relatedProgramsIds:[0],relatedPrograms:[{id:0,title:"{Program Title}",link:"/"}]},[o,h]=(0,n.useState)(),w=(0,l.useSelect)((e=>o?e(c.store).getEntityRecords("postType","program",{per_page:-1,include:o?.relatedProgramsIds}):null),[o?.relatedProgramsIds.reduce(((e,t)=>e+t),"")]),{value:v}=(0,i.A)((async()=>{if(!o)return;const{likes_count:e}=await s()({path:`university/v1/like/count/${o.id}`,method:"GET"});return e}),[o?.id]),{value:N}=(0,i.A)((async()=>{if(!o)return;const{has_logged_user_liked:e}=await s()({path:`university/v1/like/check/${o.id}`,method:"GET"});return e}),[o?.id]),k={...r,...o,likeCount:void 0!==v?v:r.likeCount,hasLiked:void 0!==N?N:r.hasLiked,relatedPrograms:w?.map((e=>({id:e.id,title:b(e),link:e.link})))||r.relatedPrograms},{relatedPrograms:y,likeCount:E,hasLiked:P}=k;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(_,{professorInfoPreview:o,setProfessorInfoPreview:h}),(0,n.createElement)("div",{className:"container container--narrow page-section"},(0,n.createElement)("div",{className:"generic-content"},(0,n.createElement)("div",{className:"row group"},(0,n.createElement)("div",{className:"one-third"},(0,n.createElement)("img",{width:480,height:650,className:"attachment-professor-portrait size-professor-portrait wp-post-image",src:k.thumbnailUrl})),(0,n.createElement)("div",{className:"two-thirds"},(0,n.createElement)("button",{className:"like-box","data-exists":P?"yes":"no","data-professor-id":k.id},(0,n.createElement)(u.g,{icon:p.qc,className:"like-box__empty-heart",width:"1rem",height:"1rem"}),(0,n.createElement)(u.g,{icon:d.qc,className:"like-box__filled-heart",width:"1rem",height:"1rem"}),(0,n.createElement)("span",{className:"like-count"},E)),(0,n.createElement)(m.RawHTML,null,k.content)))),y&&0!==y.length?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("hr",{className:"section-break"}),(0,n.createElement)("h2",{className:"headline headline--medium"},"Subject(s) Taught"),(0,n.createElement)("ul",{className:"link-list min-list"},y.map((e=>(0,n.createElement)("li",{key:e.id},(0,n.createElement)(g,{href:e.link},e.title)))))):""))}})},1609:e=>{e.exports=window.React},5795:e=>{e.exports=window.ReactDOM},6087:e=>{e.exports=window.lodash}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var i=a[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,a,n,i)=>{if(!a){var o=1/0;for(m=0;m<e.length;m++){for(var[a,n,i]=e[m],s=!0,c=0;c<a.length;c++)(!1&i||o>=i)&&Object.keys(r.O).every((e=>r.O[e](a[c])))?a.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(m--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var m=e.length;m>0&&e[m-1][2]>i;m--)e[m]=e[m-1];e[m]=[a,n,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=615,(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"})(),(()=>{var e={615:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var n,i,[o,s,c]=a,l=0;if(o.some((t=>0!==e[t]))){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);if(c)var m=c(r)}for(t&&t(a);l<o.length;l++)i=o[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(m)},a=globalThis.webpackChunkcetacean_university_block_theme=globalThis.webpackChunkcetacean_university_block_theme||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=r.O(void 0,[96],(()=>r(2627)));n=r.O(n)})();