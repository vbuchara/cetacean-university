(()=>{"use strict";var e,t={1037:(e,t,a)=>{const n=window.wp.blocks;var r=a(1609);const s=window.wp.coreData,i=window.wp.data;var o=a(876);class c{static PostPlaceholder={isPlaceholder:!0,date:new Date,date_gmt:new Date,guid:{rendered:"guid"},modified:new Date,modified_gmt:new Date,slug:"slug",status:"publish",type:"event",link:"",title:{rendered:"Title Placeholder"},content:{rendered:"Description",protected:!1},excerpt:{rendered:"Description",protected:!1},template:"",acf:{},_links:{self:[],collection:[],about:[],"wp:attachment":[],curies:[],author:[],replies:[],"version-history":[],"predecessor-version":[],"wp:term":[]},author:-1,featured_media:-1,comment_status:"status",ping_status:"status",sticky:!1,format:"format",meta:{_acf_changed:!1,footnotes:""},categories:[],tags:[]};static getPlaceholderPosts(e=2){return Array.from({length:e},((e,t)=>({...c.PostPlaceholder,id:t+1})))}static getPlaceholderEvents(e=2){return Array.from({length:e},((e,t)=>({...c.PostPlaceholder,id:t+1,acf:{event_date:"2024-06-28 15:00:00",related_programs:[]}})))}}var l=a(1486),m=a(255);function d(e){e.preventDefault()}var u=a(7438),p=a(3643),h=a(1239);function g({event:e,isOnEditor:t}){const a=(0,l.qg)(e.acf.event_date,"yyyy-MM-dd HH:mm:ss",new Date),n=e.link,s=(0,r.useMemo)((()=>()=>(0,r.createElement)(m.A,{containerClassName:"event-summary__date t-center event-summary__date--loading",circle:!0,height:"100%",width:"100%"})),[e.isPlaceholder]),i=(0,r.useMemo)((()=>()=>(0,r.createElement)(m.A,{count:.5})),[e.isPlaceholder]),c=(0,r.useMemo)((()=>()=>(0,r.createElement)("p",null,(0,r.createElement)(m.A,{count:3}))),[e.isPlaceholder]),g=(0,r.useMemo)((()=>e=>(0,r.createElement)("a",{href:n,onClick:t?d:void 0,...e},e.children)),[n,t]);return(0,r.createElement)("div",{className:"event-summary"},e.isPlaceholder?(0,r.createElement)(s,null):(0,r.createElement)(g,{className:"event-summary__date t-center"},(0,r.createElement)("span",{className:"event-summary__month"},(0,o.GP)(a,"MMM")),(0,r.createElement)("span",{className:"event-summary__day"},(0,o.GP)(a,"dd"))),(0,r.createElement)("div",{className:"event-summary__content"},(0,r.createElement)("h5",{className:"event-summary__title headline headline--tiny"},e.isPlaceholder?(0,r.createElement)(i,null):(0,r.createElement)(g,null,function(e,t={}){const a={stripTags:!0,...t},{stripTags:n}=a;return(0,p.pipe)(e.title.rendered,n?e=>(0,u.QZ)(e).result:e=>e)}(e))),e.isPlaceholder?(0,r.createElement)(c,null):(0,r.createElement)("p",null,function(e,t={}){const a={stripTags:!0,trimWords:30,...t},{stripTags:n,trimWords:r}=a,s=e.excerpt&&e.excerpt.rendered?e.excerpt.rendered:e.content.rendered;return(0,p.pipe)(s,n?e=>(0,u.QZ)(e).result:e=>e,(e=>function(e,t,a="..."){const n=h.A.words(e.trim(),/[^\s]+/g);return t>n.length?e:n.slice(0,t).join(" ").concat(a)}(e,r,"...")))}(e,{trimWords:20})+" ",(0,r.createElement)(g,{className:"nu gray"},"Learn more"))))}function v(e){return(0,r.createElement)("a",{onClick:d,...e})}const y=window.wp.blockEditor,f=window.wp.components;function E(e){const{attributes:t,setAttributes:a}=e;return(0,r.createElement)(y.InspectorControls,{group:"settings"},(0,r.createElement)(f.PanelBody,{title:"Options",initialOpen:!0},(0,r.createElement)(f.PanelRow,null,(0,r.createElement)(f.ToggleControl,{label:"Enable Past Events link",checked:t.enablePastEventsLink,onChange:e=>a({enablePastEventsLink:e})}))))}class b{static DomainName="cetacean-university-theme";static Banner=`${this.DomainName}/banner`;static Heading=`${this.DomainName}/heading`;static Button=`${this.DomainName}/button`;static EventsAndPosts=`${this.DomainName}/events-and-posts`;static Header=`${this.DomainName}/header`;static Footer=`${this.DomainName}/footer`;static Menu=`${this.DomainName}/menu`;static Slider=`${this.DomainName}/slider`;static Slide=`${this.DomainName}/slide`;static PageBannerTitle=`${this.DomainName}/page-banner-title`;static PageBannerSubtitle=`${this.DomainName}/page-banner-subtitle`;static PageBannerGeneric=`${this.DomainName}/page-banner-generic`;static PostContent=`${this.DomainName}/post-content`;static PageContent=`${this.DomainName}/page-content`;static CampusContent=`${this.DomainName}/campus-content`;static EventContent=`${this.DomainName}/event-content`;static ProgramContent=`${this.DomainName}/program-content`;static ProfessorContent=`${this.DomainName}/professor-content`;static BlogPosts=`${this.DomainName}/blog-posts`;static UpcomingEvents=`${this.DomainName}/upcoming-events`;static PastEvents=`${this.DomainName}/past-events`;static AllPrograms=`${this.DomainName}/all-programs`;static CampusesMap=`${this.DomainName}/campuses-map`;static NoteManager=`${this.DomainName}/note-manager`;static SearchForm=`${this.DomainName}/search-form`;static SearchResults=`${this.DomainName}/search-results`;static BlockCategory="cetacean-university"}(0,n.registerBlockType)(b.UpcomingEvents,{title:"Upcoming Events",category:b.BlockCategory,icon:"calendar",attributes:{enablePastEventsLink:{type:"boolean",default:!0}},edit:function(e){const{attributes:t,setAttributes:a}=e,n=new Date,l=c.getPlaceholderEvents(4),m=(0,i.useSelect)((e=>e(s.store).getEntityRecords("postType","event",{orderby:"meta_value",meta_key:"event_date",order:"asc",meta_query_key:"event_date",meta_query_value:(0,o.GP)(n,"yyyyMMddHHmmss"),meta_query_compare:">=",meta_query_type:"DATE"})),[]);return(0,r.createElement)(r.Fragment,null,(0,r.createElement)(E,{attributes:t,setAttributes:a}),(0,r.createElement)("div",{className:"container container--narrow page-section"},(m||l).map((e=>(0,r.createElement)(g,{key:e.id,event:e,isOnEditor:!0}))),t.enablePastEventsLink?(0,r.createElement)(r.Fragment,null,(0,r.createElement)("hr",{className:"section-break"}),(0,r.createElement)("p",null,(0,r.createElement)(v,{href:CetaceanUniversityUpcomingEventsData.past_events_link},"See Past Events"))):""))}})},1609:e=>{e.exports=window.React},6087:e=>{e.exports=window.lodash}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,a,r,s)=>{if(!a){var i=1/0;for(m=0;m<e.length;m++){for(var[a,r,s]=e[m],o=!0,c=0;c<a.length;c++)(!1&s||i>=s)&&Object.keys(n.O).every((e=>n.O[e](a[c])))?a.splice(c--,1):(o=!1,s<i&&(i=s));if(o){e.splice(m--,1);var l=r();void 0!==l&&(t=l)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[a,r,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=0,(()=>{var e={0:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,s,[i,o,c]=a,l=0;if(i.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(c)var m=c(n)}for(t&&t(a);l<i.length;l++)s=i[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(m)},a=globalThis.webpackChunkcetacean_university_block_theme=globalThis.webpackChunkcetacean_university_block_theme||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[96],(()=>n(1037)));r=n.O(r)})();