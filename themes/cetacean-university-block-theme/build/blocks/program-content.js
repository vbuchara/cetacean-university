(()=>{"use strict";var e,t={5992:(e,t,a)=>{const r=window.wp.blocks;var n=a(1609);const s=window.wp.coreData,i=window.wp.data,o=window.wp.element;var l=a(876),c=a(1486),m=a(255);function d(e){e.preventDefault()}var u=a(7438),p=a(3643);function h(e,t={}){const a={stripTags:!0,...t},{stripTags:r}=a;return(0,p.pipe)(e.title.rendered,r?e=>(0,u.QZ)(e).result:e=>e)}var g=a(1239);function f({event:e,isOnEditor:t}){const a=(0,c.qg)(e.acf.event_date,"yyyy-MM-dd HH:mm:ss",new Date),r=e.link,s=(0,n.useMemo)((()=>()=>(0,n.createElement)(m.A,{containerClassName:"event-summary__date t-center event-summary__date--loading",circle:!0,height:"100%",width:"100%"})),[e.isPlaceholder]),i=(0,n.useMemo)((()=>()=>(0,n.createElement)(m.A,{count:.5})),[e.isPlaceholder]),o=(0,n.useMemo)((()=>()=>(0,n.createElement)("p",null,(0,n.createElement)(m.A,{count:3}))),[e.isPlaceholder]),f=(0,n.useMemo)((()=>e=>(0,n.createElement)("a",{href:r,onClick:t?d:void 0,...e},e.children)),[r,t]);return(0,n.createElement)("div",{className:"event-summary"},e.isPlaceholder?(0,n.createElement)(s,null):(0,n.createElement)(f,{className:"event-summary__date t-center"},(0,n.createElement)("span",{className:"event-summary__month"},(0,l.GP)(a,"MMM")),(0,n.createElement)("span",{className:"event-summary__day"},(0,l.GP)(a,"dd"))),(0,n.createElement)("div",{className:"event-summary__content"},(0,n.createElement)("h5",{className:"event-summary__title headline headline--tiny"},e.isPlaceholder?(0,n.createElement)(i,null):(0,n.createElement)(f,null,h(e))),e.isPlaceholder?(0,n.createElement)(o,null):(0,n.createElement)("p",null,function(e,t={}){const a={stripTags:!0,trimWords:30,...t},{stripTags:r,trimWords:n}=a,s=e.excerpt&&e.excerpt.rendered?e.excerpt.rendered:e.content.rendered;return(0,p.pipe)(s,r?e=>(0,u.QZ)(e).result:e=>e,(e=>function(e,t,a="..."){const r=g.A.words(e.trim(),/[^\s]+/g);return t>r.length?e:r.slice(0,t).join(" ").concat(a)}(e,n,"...")))}(e,{trimWords:20})+" ",(0,n.createElement)(f,{className:"nu gray"},"Learn more"))))}function v(e){return(0,n.createElement)("a",{onClick:d,...e})}const y=a.p+"images/default-user-landscape.0cd19a25.png";function _(e,t={}){const a={defaultImg:y,...t},{defaultImg:r,size:n}=a,{_embedded:s}=e;try{if(!s)throw new E;if(0===s["wp:featuredmedia"].length)throw new E;const e=s["wp:featuredmedia"][0];if(!e)throw new E;if(!n){if(!e?.source_url)throw new E;return e.source_url}const t=e.media_details.sizes[n];if(!t){if(!e.source_url)throw new E;return e.source_url}return t.source_url}catch(e){return r}}class E extends Error{}const w=window.wp.blockEditor,N=window.wp.components;var b=a(6005);function P({styles:e,...t}){return(0,n.createElement)(b.Ay,{isSearchable:!0,styles:{container:(t,a)=>({...t,flex:1,...e?.container?.(t,a)}),input:(t,a)=>({...t,"input:focus":{boxShadow:"none"},...e?.input?.(t,a)}),...e},...t})}function k({programInfoPreview:e,setProgramInfoPreview:t}){const a=(0,i.useSelect)((e=>e(s.store).getEntityRecords("postType","program",{per_page:-1})),[]),r=a?.map((e=>({label:h(e),value:e.id,id:e.id,title:h(e),content:e.content.rendered,relatedCampusesIds:e.acf.related_campus})));return(0,n.createElement)(w.InspectorControls,{group:"settings"},(0,n.createElement)(N.PanelBody,{title:"Program Preview",initialOpen:!0},(0,n.createElement)(N.PanelRow,null,(0,n.createElement)(P,{name:"program",isLoading:!a,value:e,onChange:function(e){t(e||void 0)},options:r}))))}class D{static DomainName="cetacean-university-theme";static Banner=`${this.DomainName}/banner`;static Heading=`${this.DomainName}/heading`;static Button=`${this.DomainName}/button`;static EventsAndPosts=`${this.DomainName}/events-and-posts`;static Header=`${this.DomainName}/header`;static Footer=`${this.DomainName}/footer`;static Menu=`${this.DomainName}/menu`;static Slider=`${this.DomainName}/slider`;static Slide=`${this.DomainName}/slide`;static PageBannerTitle=`${this.DomainName}/page-banner-title`;static PageBannerSubtitle=`${this.DomainName}/page-banner-subtitle`;static PageBannerGeneric=`${this.DomainName}/page-banner-generic`;static PostContent=`${this.DomainName}/post-content`;static PageContent=`${this.DomainName}/page-content`;static CampusContent=`${this.DomainName}/campus-content`;static EventContent=`${this.DomainName}/event-content`;static ProgramContent=`${this.DomainName}/program-content`;static ProfessorContent=`${this.DomainName}/professor-content`;static BlogPosts=`${this.DomainName}/blog-posts`;static UpcomingEvents=`${this.DomainName}/upcoming-events`;static PastEvents=`${this.DomainName}/past-events`;static AllPrograms=`${this.DomainName}/all-programs`;static CampusesMap=`${this.DomainName}/campuses-map`;static NoteManager=`${this.DomainName}/note-manager`;static SearchForm=`${this.DomainName}/search-form`;static SearchResults=`${this.DomainName}/search-results`;static BlockCategory="cetacean-university"}(0,r.registerBlockType)(D.ProgramContent,{title:"Program Content",category:D.BlockCategory,icon:"welcome-learn-more",attributes:{},edit:function(e){const{attributes:t,setAttributes:a}=e,r=new Date,c={id:0,title:"{Program Title}",content:"{Program Content}",relatedProfessors:[{id:0,title:"{Professor Name}",link:"/",thumbnailUrl:y}],relatedEvents:[{id:0,title:{rendered:"{Event Title}"},content:{rendered:"{Event Content}",protected:!1},excerpt:{rendered:"{Event Excerpt}",protected:!1},link:"/",acf:{event_date:(0,l.GP)(r,"yyyy-MM-dd HH:mm:ss")}}],relatedCampusesIds:[0],relatedCampuses:[{id:0,title:"{Campus Name}",link:"/"}]},[m,d]=(0,n.useState)(),u=(0,i.useSelect)((e=>m?e(s.store).getEntityRecords("postType","professor",{per_page:-1,orderby:"title",order:"asc",meta_query_key:"related_programs",meta_query_value:`"${m.id}"`,meta_query_compare:"LIKE",_embed:!0}):null),[m?.id]),p=(0,i.useSelect)((e=>m?e(s.store).getEntityRecords("postType","event",{per_page:-1,orderby:"meta_value",order:"asc",meta_key:"event_date",meta_query_key:"related_programs",meta_query_compare:"LIKE",meta_query_value:`"${m.id}"`,meta_query_key_2:"event_date",meta_query_value_2:(0,l.GP)(r,"yyyyMMddHHmmss"),meta_query_compare_2:">=",meta_query_type_2:"DATE"}):null),[m?.id]),g=(0,i.useSelect)((e=>m?e(s.store).getEntityRecords("postType","campus",{per_page:-1,include:m?.relatedCampusesIds}):null),[m?.relatedCampusesIds.reduce(((e,t)=>e+t),"")]),E={...c,...m,relatedProfessors:u?u.map((e=>({id:e.id,title:h(e),link:e.link,thumbnailUrl:_(e,{size:"professor-landscape"})}))):c.relatedProfessors,relatedEvents:p?.map((e=>({id:e.id,title:e.title,link:e.link,content:e.content,excerpt:e.excerpt,acf:e.acf})))||c.relatedEvents,relatedCampuses:g?g.map((e=>({id:e.id,title:h(e),link:e.link}))):c.relatedCampuses},{relatedProfessors:w,relatedEvents:N,relatedCampuses:b}=E;return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(k,{programInfoPreview:m,setProgramInfoPreview:d}),(0,n.createElement)("div",{className:"container container--narrow page-section"},(0,n.createElement)(o.RawHTML,{className:"generic-content"},E.content),w&&0!==w.length?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("hr",{className:"section-break"}),(0,n.createElement)("h2",{className:"headline headline--medium"},E.title," Professors"),(0,n.createElement)("ul",{className:"professor-cards"},w.map((e=>(0,n.createElement)("li",{key:e.id,className:"professor-card__list-item"},(0,n.createElement)(v,{className:"professor-card",href:e.link},(0,n.createElement)("img",{className:"professor-card__image",src:e.thumbnailUrl,alt:`Image of Professor ${e.title}`}),(0,n.createElement)("span",{className:"professor-card__name"},e.title))))))):"",N&&0!==N.length?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("hr",{className:"section-break"}),(0,n.createElement)("h2",{className:"headline headline--medium"},"Upcoming ",E.title," Events"),N.map((e=>(0,n.createElement)(f,{key:e.id,event:e,isOnEditor:!0})))):"",b&&0!==b.length?(0,n.createElement)(n.Fragment,null,(0,n.createElement)("hr",{className:"section-break"}),(0,n.createElement)("h2",{className:"headline headline--medium"},"Campuses Offering"),(0,n.createElement)("ul",{className:"link-list min-list"},b.map((e=>(0,n.createElement)("li",{key:e.id},(0,n.createElement)(v,{href:e.link},e.title)))))):""))}})},1609:e=>{e.exports=window.React},5795:e=>{e.exports=window.ReactDOM},6087:e=>{e.exports=window.lodash}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var s=a[e]={exports:{}};return t[e].call(s.exports,s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,a,n,s)=>{if(!a){var i=1/0;for(m=0;m<e.length;m++){for(var[a,n,s]=e[m],o=!0,l=0;l<a.length;l++)(!1&s||i>=s)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(o=!1,s<i&&(i=s));if(o){e.splice(m--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var m=e.length;m>0&&e[m-1][2]>s;m--)e[m]=e[m-1];e[m]=[a,n,s]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.j=144,(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e+"../"})(),(()=>{var e={144:0};r.O.j=t=>0===e[t];var t=(t,a)=>{var n,s,[i,o,l]=a,c=0;if(i.some((t=>0!==e[t]))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(l)var m=l(r)}for(t&&t(a);c<i.length;c++)s=i[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(m)},a=globalThis.webpackChunkcetacean_university_block_theme=globalThis.webpackChunkcetacean_university_block_theme||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=r.O(void 0,[96],(()=>r(5992)));n=r.O(n)})();