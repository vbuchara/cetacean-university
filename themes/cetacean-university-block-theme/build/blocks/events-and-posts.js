(()=>{"use strict";var e,t={4663:(e,t,a)=>{const n=window.wp.blocks;class r{static DomainName="cetacean-university-theme";static Banner=`${this.DomainName}/banner`;static Heading=`${this.DomainName}/heading`;static Button=`${this.DomainName}/button`;static EventsAndPosts=`${this.DomainName}/events-and-posts`;static Header=`${this.DomainName}/header`;static Footer=`${this.DomainName}/footer`;static Menu=`${this.DomainName}/menu`;static Slider=`${this.DomainName}/slider`;static Slide=`${this.DomainName}/slide`;static PageBannerTitle=`${this.DomainName}/page-banner-title`;static PageBannerSubtitle=`${this.DomainName}/page-banner-subtitle`;static PageBannerGeneric=`${this.DomainName}/page-banner-generic`;static PostContent=`${this.DomainName}/post-content`;static PageContent=`${this.DomainName}/page-content`;static CampusContent=`${this.DomainName}/campus-content`;static EventContent=`${this.DomainName}/event-content`;static ProgramContent=`${this.DomainName}/program-content`;static ProfessorContent=`${this.DomainName}/professor-content`;static BlogPosts=`${this.DomainName}/blog-posts`;static UpcomingEvents=`${this.DomainName}/upcoming-events`;static PastEvents=`${this.DomainName}/past-events`;static AllPrograms=`${this.DomainName}/all-programs`;static CampusesMap=`${this.DomainName}/campuses-map`;static NoteManager=`${this.DomainName}/note-manager`;static SearchForm=`${this.DomainName}/search-form`;static SearchResults=`${this.DomainName}/search-results`;static BlockCategory="cetacean-university"}var i=a(1609);const s=window.wp.coreData,o=window.wp.data;function l(e){e.preventDefault()}window.wp.blockEditor,window.wp.components;class c{static PresetPrefix="--wp--preset--color";static Black=`${this.PresetPrefix}--black`;static White=`${this.PresetPrefix}--white`;static CyanBluishGray=`${this.PresetPrefix}--cyan-bluish-gray`;static PalePink=`${this.PresetPrefix}--pale-pink`;static VividRed=`${this.PresetPrefix}--vivid-red`;static LuminousVividOrange=`${this.PresetPrefix}--luminous-vivid-orange`;static LuminousVividAmber=`${this.PresetPrefix}--luminous-vivid-amber`;static LightGreenCyan=`${this.PresetPrefix}--light-green-cyan`;static VividGreenCyan=`${this.PresetPrefix}--vivid-green-cyan`;static PaleCyanBlue=`${this.PresetPrefix}--pale-cyan-blue`;static VividCyanBlue=`${this.PresetPrefix}--vivid-cyan-blue`;static VividPurple=`${this.PresetPrefix}--vivid-purple`;static Primary=`${this.PresetPrefix}--primary`;static Secondary=`${this.PresetPrefix}--secondary`;static getColorFromVar(e){return getComputedStyle(document.body).getPropertyValue(e)}static getColorsList(){return[{name:"Primary",color:`var(${this.Primary})`},{name:"Secondary",color:`var(${this.Secondary})`},{name:"Black",color:`var(${this.Black})`},{name:"White",color:`var(${this.White})`},{name:"Cyan Bluish Gray",color:`var(${this.CyanBluishGray})`},{name:"Pale Pink",color:`var(${this.PalePink})`},{name:"Vivid Red",color:`var(${this.VividRed})`},{name:"Luminous Vivid Orange",color:`var(${this.LuminousVividOrange})`},{name:"Luminous Vivid Amber",color:`var(${this.LuminousVividAmber})`},{name:"Light Green Cyan",color:`var(${this.LightGreenCyan})`},{name:"Vivid Green Cyan",color:`var(${this.VividGreenCyan})`},{name:"Pale Cyan Blue",color:`var(${this.PaleCyanBlue})`},{name:"Vivid Cyan Blue",color:`var(${this.VividCyanBlue})`},{name:"Vivid Purple",color:`var(${this.VividPurple})`}]}}c||(c={});const m=new Map([["small","btn--small"],["medium","btn--medium"],["large","btn--large"]]),d=new Map([["none",""],["slide-from-top","btn--slide-from-top"],["slide-from-bottom","btn--slide-from-bottom"],["slide-from-left","btn--slide-from-left"],["slide-from-right","btn--slide-from-right"]]);function u(e){const{attributes:t}=e,a=t.linkObject?.url?t.linkObject?.url:void 0,n=new Set(["btn",t.size&&m.get(t.size)||"",d.get(t.animations.onHover)||""]);return(0,i.createElement)("a",{href:a,onClick:a?void 0:l,className:Array.from(n).join(" "),style:{"--background-color":t.backgroundColor,"--color":t.color}},t.text)}class h{static PostPlaceholder={isPlaceholder:!0,date:new Date,date_gmt:new Date,guid:{rendered:"guid"},modified:new Date,modified_gmt:new Date,slug:"slug",status:"publish",type:"event",link:"",title:{rendered:"Title Placeholder"},content:{rendered:"Description",protected:!1},excerpt:{rendered:"Description",protected:!1},template:"",acf:{},_links:{self:[],collection:[],about:[],"wp:attachment":[],curies:[],author:[],replies:[],"version-history":[],"predecessor-version":[],"wp:term":[]},author:-1,featured_media:-1,comment_status:"status",ping_status:"status",sticky:!1,format:"format",meta:{_acf_changed:!1,footnotes:""},categories:[],tags:[]};static getPlaceholderPosts(e=2){return Array.from({length:e},((e,t)=>({...h.PostPlaceholder,id:t+1})))}static getPlaceholderEvents(e=2){return Array.from({length:e},((e,t)=>({...h.PostPlaceholder,id:t+1,acf:{event_date:"2024-06-28 15:00:00",related_programs:[]}})))}}var v=a(255),p=a(876),y=a(3643),g=a(1239),P=a(7438);function f(e,t={}){const a={stripTags:!0,trimWords:30,...t},{stripTags:n,trimWords:r}=a,i=e.excerpt&&e.excerpt.rendered?e.excerpt.rendered:e.content.rendered;return(0,y.pipe)(i,n?e=>(0,P.QZ)(e).result:e=>e,(e=>function(e,t,a="..."){const n=g.A.words(e.trim(),/[^\s]+/g);return t>n.length?e:n.slice(0,t).join(" ").concat(a)}(e,r,"...")))}function E(e,t={}){const a={stripTags:!0,...t},{stripTags:n}=a;return(0,y.pipe)(e.title.rendered,n?e=>(0,P.QZ)(e).result:e=>e)}function _({post:e,isOnEditor:t}){const a=t?"":e.link,n=(0,i.useMemo)((()=>()=>(0,i.createElement)(v.A,{containerClassName:"event-summary__date event-summary__date--alt t-center event-summary__date--loading",circle:!0,height:"100%",width:"100%"})),[e.isPlaceholder]),r=(0,i.useMemo)((()=>()=>(0,i.createElement)(v.A,{count:.5})),[e.isPlaceholder]),s=(0,i.useMemo)((()=>()=>(0,i.createElement)("p",null,(0,i.createElement)(v.A,{count:3}))),[e.isPlaceholder]),o=(0,i.useMemo)((()=>e=>(0,i.createElement)("a",{href:a,onClick:a?void 0:l,...e},e.children)),[a]);return(0,i.createElement)("div",{className:"event-summary"},e.isPlaceholder?(0,i.createElement)(n,null):(0,i.createElement)(o,{className:"event-summary__date event-summary__date--alt t-center"},(0,i.createElement)("span",{className:"event-summary__month"},(0,p.GP)(e.date,"MMM")),(0,i.createElement)("span",{className:"event-summary__day"},(0,p.GP)(e.date,"dd"))),(0,i.createElement)("div",{className:"event-summary__content"},(0,i.createElement)("h5",{className:"event-summary__title headline headline--tiny"},e.isPlaceholder?(0,i.createElement)(r,null):(0,i.createElement)(o,null,E(e))),e.isPlaceholder?(0,i.createElement)(s,null):(0,i.createElement)("p",null,f(e,{trimWords:20})+" ",(0,i.createElement)(o,{className:"nu text-color--dark-gray"},"Read more"))))}function b({blogLink:e,onLoadFinish:t,onLayoutChange:a,isOnEditor:n}){const r=h.getPlaceholderPosts(),l=(0,o.useSelect)((e=>e(s.store).getEntityRecords("postType","post",{context:"view",per_page:2})),[]);return(0,i.useEffect)((()=>{l&&t&&t()}),[l]),(0,i.useLayoutEffect)((()=>{a&&a()})),(0,i.createElement)("div",{className:"full-width-split__two"},(0,i.createElement)("div",{className:"full-width-split__inner"},(0,i.createElement)("h2",{className:"headline headline--small-plus t-center"},"From Our Blogs"),(l||r).map((e=>(0,i.createElement)(_,{key:e.id,post:e,isOnEditor:n}))),(0,i.createElement)("p",{className:"t-center no-margin"},(0,i.createElement)(u,{className:"",attributes:{animations:{onHover:"slide-from-top"},backgroundColor:`var(${c.Secondary})`,color:`var(${c.White})`,text:"View All Blog Posts",linkObject:{url:n?"":e}}}))))}var $=a(1486);function N({event:e,isOnEditor:t}){const a=(0,$.qg)(e.acf.event_date,"yyyy-MM-dd HH:mm:ss",new Date),n=e.link,r=(0,i.useMemo)((()=>()=>(0,i.createElement)(v.A,{containerClassName:"event-summary__date t-center event-summary__date--loading",circle:!0,height:"100%",width:"100%"})),[e.isPlaceholder]),s=(0,i.useMemo)((()=>()=>(0,i.createElement)(v.A,{count:.5})),[e.isPlaceholder]),o=(0,i.useMemo)((()=>()=>(0,i.createElement)("p",null,(0,i.createElement)(v.A,{count:3}))),[e.isPlaceholder]),c=(0,i.useMemo)((()=>e=>(0,i.createElement)("a",{href:n,onClick:t?l:void 0,...e},e.children)),[n,t]);return(0,i.createElement)("div",{className:"event-summary"},e.isPlaceholder?(0,i.createElement)(r,null):(0,i.createElement)(c,{className:"event-summary__date t-center"},(0,i.createElement)("span",{className:"event-summary__month"},(0,p.GP)(a,"MMM")),(0,i.createElement)("span",{className:"event-summary__day"},(0,p.GP)(a,"dd"))),(0,i.createElement)("div",{className:"event-summary__content"},(0,i.createElement)("h5",{className:"event-summary__title headline headline--tiny"},e.isPlaceholder?(0,i.createElement)(s,null):(0,i.createElement)(c,null,E(e))),e.isPlaceholder?(0,i.createElement)(o,null):(0,i.createElement)("p",null,f(e,{trimWords:20})+" ",(0,i.createElement)(c,{className:"nu gray"},"Learn more"))))}function w({eventsArchiveLink:e,onLoadFinish:t,onLayoutChange:a,isOnEditor:n}){const r=new Date,l=h.getPlaceholderEvents(),m=(0,o.useSelect)((e=>e(s.store).getEntityRecords("postType","event",{context:"view",per_page:2,orderby:"meta_value",order:"asc",meta_key:"event_date",meta_query_key:"event_date",meta_query_value:(0,p.GP)(r,"yyyyMMddHHmmss"),meta_query_compare:">=",meta_query_type:"DATE"})),[]);return(0,i.useEffect)((()=>{m&&t&&t()}),[m]),(0,i.useLayoutEffect)((()=>{a&&a()})),(0,i.createElement)("div",{className:"full-width-split__one"},(0,i.createElement)("div",{className:"full-width-split__inner"},(0,i.createElement)("h2",{className:"headline headline--small-plus t-center"},"Upcoming Events"),(m||l).map((e=>(0,i.createElement)(N,{key:e.id,event:e,isOnEditor:n}))),(0,i.createElement)("p",{className:"t-center no-margin"},(0,i.createElement)(u,{className:"",attributes:{animations:{onHover:"slide-from-top"},backgroundColor:`var(${c.Primary})`,color:`var(${c.White})`,text:"View All Events",linkObject:{url:n?"":e}}}))))}(0,n.registerBlockType)(r.EventsAndPosts,{title:"Events and Posts",icon:"calendar-alt",category:r.BlockCategory,attributes:{},edit:function(){return(0,i.createElement)("div",{className:"full-width-split group"},(0,i.createElement)(w,{eventsArchiveLink:CetaceanUniversityEventsAndPostsData.events_archive_link,isOnEditor:!0}),(0,i.createElement)(b,{blogLink:CetaceanUniversityEventsAndPostsData.blog_link,isOnEditor:!0}))}})},1609:e=>{e.exports=window.React},6087:e=>{e.exports=window.lodash}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var i=a[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,a,r,i)=>{if(!a){var s=1/0;for(m=0;m<e.length;m++){for(var[a,r,i]=e[m],o=!0,l=0;l<a.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(o=!1,i<s&&(s=i));if(o){e.splice(m--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var m=e.length;m>0&&e[m-1][2]>i;m--)e[m]=e[m-1];e[m]=[a,r,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=893,(()=>{var e={893:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,i,[s,o,l]=a,c=0;if(s.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var m=l(n)}for(t&&t(a);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(m)},a=globalThis.webpackChunkcetacean_university_block_theme=globalThis.webpackChunkcetacean_university_block_theme||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[96],(()=>n(4663)));r=n.O(r)})();