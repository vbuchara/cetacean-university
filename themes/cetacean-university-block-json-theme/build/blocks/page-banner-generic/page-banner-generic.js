(()=>{"use strict";var e,t,n,a,o,r,i,l,s,c={6140:(e,t,n)=>{n.d(t,{i:()=>N});var a=n(1609),o=n(4705);const r=window.wp.apiFetch;var i=n.n(r),l=n(4715);const s=window.wp.data;class c{static DomainName="cetacean-university-theme";static Banner=`${this.DomainName}/banner`;static Heading=`${this.DomainName}/heading`;static Button=`${this.DomainName}/button`;static EventsAndPosts=`${this.DomainName}/events-and-posts`;static Header=`${this.DomainName}/header`;static Footer=`${this.DomainName}/footer`;static Menu=`${this.DomainName}/menu`;static Slider=`${this.DomainName}/slider`;static Slide=`${this.DomainName}/slide`;static PageBannerTitle=`${this.DomainName}/page-banner-title`;static PageBannerSubtitle=`${this.DomainName}/page-banner-subtitle`;static PageBannerGeneric=`${this.DomainName}/page-banner-generic`;static PostContent=`${this.DomainName}/post-content`;static PageContent=`${this.DomainName}/page-content`;static CampusContent=`${this.DomainName}/campus-content`;static EventContent=`${this.DomainName}/event-content`;static ProgramContent=`${this.DomainName}/program-content`;static ProfessorContent=`${this.DomainName}/professor-content`;static BlogPosts=`${this.DomainName}/blog-posts`;static UpcomingEvents=`${this.DomainName}/upcoming-events`;static PastEvents=`${this.DomainName}/past-events`;static AllPrograms=`${this.DomainName}/all-programs`;static CampusesMap=`${this.DomainName}/campuses-map`;static NoteManager=`${this.DomainName}/note-manager`;static SearchForm=`${this.DomainName}/search-form`;static SearchResults=`${this.DomainName}/search-results`;static BlockCategory="cetacean-university"}function m({children:e,style:t,...n}){const o=(0,l.useBlockProps)();return console.log(o),(0,a.createElement)("div",{...o,...n,style:{...o.style,padding:0,...t}},e)}const u=window.wp.components;var p=n(982),d=n(3639),b=n(7965),f=n.n(b),h=n(6005);function g({styles:e,...t}){return(0,a.createElement)(h.Ay,{isSearchable:!0,styles:{container:(t,n)=>({...t,flex:1,...e?.container?.(t,n)}),input:(t,n)=>({...t,"input:focus":{boxShadow:"none"},...e?.input?.(t,n)}),...e},...t})}var v=n(6282);function y(e){return void 0!==e&&e instanceof HTMLElement&&null!==e}function x({label:e,wrapperDivProps:{style:t,className:n,...o}={},...r}){const[i,s]=(0,a.useState)(!1),[c]=(0,v.q)((e=>{const t=e[0]?.target;if(!t)return;const n=t instanceof Element?t:t.parentElement;if(!n||!y(n))return;const a=n.classList.contains("block-editor-link-control")?n:n.closest(".block-editor-link-control");a&&y(a)&&p(a)})),m=(0,a.useCallback)((e=>{if(!e)return;const t=e.getElementsByClassName("block-editor-link-control").item(0);t&&y(t)&&(c(t),t&&p(t))}),[r.value,i]);function p(e){e.style.setProperty("min-width","unset");const t=e.querySelectorAll(".components-menu-item__item");Array.from(t).forEach((e=>{e.style.setProperty("min-width","unset"),e.style.setProperty("white-space","unset"),e.style.setProperty("overflow-wrap","anywhere")}));const n=e.querySelectorAll(".block-editor-link-control__field");Array.from(n).forEach((e=>{e.style.setProperty("margin-left","0px"),e.style.setProperty("margin-right","0px")}));const a=e.querySelectorAll(".block-editor-link-control__search-results");Array.from(a).forEach((e=>{e.style.setProperty("padding-left","0px"),e.style.setProperty("padding-right","0px")}));const o=e.querySelectorAll(".block-editor-link-control__search-item");Array.from(o).forEach((e=>{e.style.setProperty("padding-left","0px"),e.style.setProperty("padding-right","0px")}));const r=e.querySelector(".block-editor-link-control__search-results > .components-menu-group");r&&r.style.setProperty("padding-inline","1.5px");const i=e.querySelectorAll(".components-menu-item__shortcut");Array.from(i).forEach((e=>{e.style.setProperty("padding-left","0px")}))}return(0,a.createElement)(u.__experimentalGrid,{...o,ref:m,className:`link-control-wrapper ${n||""}}`,columns:o.columns?o.columns:1,style:{flex:1,...t}},(0,a.createElement)(u.BaseControl,{label:e},(0,a.createElement)(l.__experimentalLinkControl,{...r,onChange:function(e){r.onChange?.(e),s(!0)}})))}function w({attributes:e,setAttributes:t}){const{loading:n,value:r}=(0,o.A)((async()=>await i()({path:"/cetacean-university/v1/editor/variables",method:"GET"})),[]),s=(0,a.useMemo)((()=>{if(!r)return[];const{variables:e,indicator:t}=r;return e.map((e=>({label:e,value:t.replace("variable",e)})))}),[n,r]),c=e.metaboxInfo.showConditionalVariables.map((e=>s.find((t=>t.value===e)))).filter((e=>void 0!==typeof e));function m(){t({bannerImageId:0})}return(0,a.createElement)(l.InspectorControls,{group:"settings"},(0,a.createElement)(u.PanelBody,{title:"Background Image",initialOpen:!0},(0,a.createElement)(u.PanelRow,null,(0,a.createElement)(u.Flex,{justify:"flex-start"},(0,a.createElement)(l.MediaUploadCheck,null,(0,a.createElement)(l.MediaUpload,{onSelect:function(e){t({bannerImageId:e.id})},value:e.bannerImageId,render:({open:e})=>(0,a.createElement)(a.Fragment,null,(0,a.createElement)(u.Button,{variant:"primary",onClick:e},"Choose Image"),(0,a.createElement)(u.Button,{variant:"secondary",onClick:m},"Set to Default"))}))))),(0,a.createElement)(u.PanelBody,{title:"Metabox Configuration",initialOpen:!0},(0,a.createElement)(u.PanelRow,null,(0,a.createElement)(u.ToggleControl,{label:"Enable Metabox",checked:e.enableMetabox,onChange:e=>t({enableMetabox:e})})),(0,a.createElement)(u.PanelRow,null,(0,a.createElement)(x,{label:"Home Link Url",settings:[],value:e.metaboxInfo.homeLinkObject?{...e.metaboxInfo.homeLinkObject,title:void 0}:void 0,onChange:function(n){t({metaboxInfo:{...e.metaboxInfo,homeLinkObject:{url:n.url,title:n.title,type:n.type}}})}})),(0,a.createElement)(u.PanelRow,null,(0,a.createElement)(u.__experimentalGrid,{columns:1,style:{flex:1}},(0,a.createElement)(u.BaseControl,{label:"Show only if variable(s) is set"},(0,a.createElement)(g,{name:"metabox-variable-show-condition",isLoading:n,options:s,value:c,isMulti:!0,onChange:function(n){t({metaboxInfo:{...e.metaboxInfo,showConditionalVariables:n.map((({value:e})=>e))}})}}))))))}function E(e){const{loading:t,response:n,textSelectionOffset:o,metaboxSelectionType:r}=e,[i,s]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),b=(0,a.useMemo)((()=>{if(!n)return[];const{variables:e,indicator:t}=n;return e.map((e=>({label:e,value:t.replace("variable",e)})))}),[t,n]);return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.BlockControls,null,e.attributes.enableMetabox?(0,a.createElement)(u.ToolbarGroup,null,(0,a.createElement)(u.ToolbarButton,{icon:()=>(0,a.createElement)(p.g,{icon:d._$}),onClick:function(){s(!0)},title:"Add a variable",ref:m})):""),i?(0,a.createElement)(u.Popover,{placement:"bottom",onClose:()=>s(!1),anchor:c},(0,a.createElement)(g,{name:"metabox-variable",isLoading:t,options:b,onChange:function(t){if(!t)return;const{attributes:{metaboxInfo:n}}=e;"metabox-home-link"===r&&e.setAttributes({metaboxInfo:{...e.attributes.metaboxInfo,homeLinkText:n.homeLinkText?f()(n.homeLinkText,t.value,o):t.value}}),"metabox-main"===r&&e.setAttributes({metaboxInfo:{...e.attributes.metaboxInfo,mainText:n.mainText?f()(n.mainText,t.value,o):t.value}}),s(!1)},menuPortalTarget:document.body,styles:{container:e=>({...e,width:"200px"}),menu:e=>({...e,marginTop:0})}})):"")}var k=n(2378);function _(e){e.preventDefault()}function S(e){return(0,a.createElement)("a",{onClick:_,...e})}function P(e){const{attributes:t,setAttributes:n,onSelectHomeLinkText:o,onSelectMainText:r}=e,{metaboxInfo:i}=t,s=(0,a.useMemo)((()=>{if(!i.homeLinkObject)return;const{url:e,type:t,title:n}=i.homeLinkObject;return"Variable"===t?n:e}),[]);return(0,a.createElement)("div",{className:["metabox","metabox--position-down","metabox--align-with-post","metabox--with-home-link","metabox--editor"].join(" ")},(0,a.createElement)("p",null,(0,a.createElement)(S,{className:"metabox__blog-home-link",href:s},(0,a.createElement)(p.g,{icon:k.v0,width:"0.9rem",height:"0.9rem"}),(0,a.createElement)(l.RichText,{tagName:"span",allowedFormats:["core/italic","core/bold"],value:i.homeLinkText,onChange:function(e){n({metaboxInfo:{...i,homeLinkText:e}})},onSelect:o})),(0,a.createElement)(l.RichText,{tagName:"span",className:"metabox__main",allowedFormats:["core/italic","core/bold"],value:i.mainText,onChange:function(e){n({metaboxInfo:{...i,mainText:e}})},onSelect:r})))}function N(e){const{attributes:t,setAttributes:n,clientId:r}=e,u=CetaceanUniversityPageBannerGenericData.theme_path+"/images/ocean.jpg",[p,d]=(0,a.useState)(""),[b,f]=(0,a.useState)(0),[h,g]=(0,a.useState)("metabox-main"),v=(0,a.useRef)(new Set),{loading:y,value:x}=(0,o.A)((async()=>await i()({path:"/cetacean-university/v1/editor/variables",method:"GET"})),[]),{removeBlock:k}=(0,s.useDispatch)(l.store),{innerBlocks:_}=(0,s.useSelect)((e=>{const{getBlocks:t}=e(l.store);return{innerBlocks:t(r)}}),[r]),S=_.reduce(((e,{clientId:t})=>e+t),""),N=(0,a.useMemo)((()=>{const e=new Set([c.PageBannerTitle]);return _.reduce((function(t,{name:n}){return e.has(n)?t+1:t}),0)}),[S]),C=(0,a.useMemo)((()=>{const e=new Set([c.PageBannerSubtitle]);return _.reduce((function(t,{name:n}){return e.has(n)?t+1:t}),0)}),[S]);function T(e){return t=>{const n=t.currentTarget.getRootNode().getSelection();n&&(f(n.focusOffset),g(e))}}const I=(0,a.useMemo)((()=>{const e=N>=1&&C>=1;return()=>e?null:(0,a.createElement)(l.ButtonBlockAppender,{rootClientId:r,className:"block-list-appender__toggle block-editor-button-block-appender"})}),[r,S,N,C]);return(0,a.useEffect)((()=>{t.bannerImageId?(async()=>{try{const{source_url:e,media_details:n}=await i()({path:`/wp/v2/media/${t.bannerImageId}`}),a=n.sizes["page-banner"];if(!a&&!e)throw new Error("No image found.");if(!a)return d(e);d(a.source_url)}catch(e){d(u),console.error(e)}})():d(u)}),[t.bannerImageId,u]),(0,a.useEffect)((()=>{!async function(){const e=v.current,t=N>1||C>1;if(e.size>0&&t){const t=_.map((async t=>{e.has(t.clientId)||(await k(t.clientId),alert("You can only have 1 of Title and Subtitle"))}));await Promise.all(t)}_.forEach((({clientId:t})=>e.add(t)))}()}),[S,N,C]),(0,a.createElement)(m,null,(0,a.createElement)(w,{attributes:t,setAttributes:n,loading:y,response:x}),(0,a.createElement)(E,{attributes:t,setAttributes:n,loading:y,response:x,textSelectionOffset:b,metaboxSelectionType:h}),(0,a.createElement)("div",{className:"page-banner"},(0,a.createElement)("div",{className:"page-banner__bg-image",style:{"--bg-image":`url(${p})`}}),(0,a.createElement)("div",{className:"page-banner__content container container--narrow"},(0,a.createElement)(l.InnerBlocks,{allowedBlocks:[c.PageBannerTitle,c.PageBannerSubtitle],template:[[c.PageBannerTitle],[c.PageBannerSubtitle]],renderAppender:I})),t.enableMetabox?(0,a.createElement)(P,{attributes:t,setAttributes:n,onSelectHomeLinkText:T("metabox-home-link"),onSelectMainText:T("metabox-main")}):""))}},3010:(e,t,n)=>{n.a(e,(async(e,t)=>{try{var a=n(4997),o=n(6140),r=n(3679);const e=(await n.e(9478).then(n.t.bind(n,9478,19))).default;(0,a.registerBlockType)(e.name,{...e,icon:"cover-image",edit:o.i,save:r.l}),t()}catch(e){t(e)}}),1)},3679:(e,t,n)=>{n.d(t,{l:()=>r});var a=n(1609),o=n(4715);function r(e){return(0,a.createElement)(o.InnerBlocks.Content,null)}},1609:e=>{e.exports=window.React},5795:e=>{e.exports=window.ReactDOM},4715:e=>{e.exports=window.wp.blockEditor},4997:e=>{e.exports=window.wp.blocks}},m={};function u(e){var t=m[e];if(void 0!==t)return t.exports;var n=m[e]={exports:{}};return c[e].call(n.exports,n,n.exports,u),n.exports}u.m=c,e="function"==typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&e.d<1&&(e.d=1,e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},u.a=(o,r,i)=>{var l;i&&((l=[]).d=-1);var s,c,m,u=new Set,p=o.exports,d=new Promise(((e,t)=>{m=t,c=e}));d[t]=p,d[e]=e=>(l&&e(l),u.forEach(e),d.catch((e=>{}))),o.exports=d,r((o=>{var r;s=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var r=[];r.d=0,o.then((e=>{i[t]=e,a(r)}),(e=>{i[n]=e,a(r)}));var i={};return i[e]=e=>e(r),i}}var l={};return l[e]=e=>{},l[t]=o,l})))(o);var i=()=>s.map((e=>{if(e[n])throw e[n];return e[t]})),c=new Promise((t=>{(r=()=>t(i)).r=0;var n=e=>e!==l&&!u.has(e)&&(u.add(e),e&&!e.d&&(r.r++,e.push(r)));s.map((t=>t[e](n)))}));return r.r?c:i()}),(e=>(e?m(d[n]=e):c(p),a(l)))),l&&l.d<0&&(l.d=0)},o=[],u.O=(e,t,n,a)=>{if(!t){var r=1/0;for(c=0;c<o.length;c++){for(var[t,n,a]=o[c],i=!0,l=0;l<t.length;l++)(!1&a||r>=a)&&Object.keys(u.O).every((e=>u.O[e](t[l])))?t.splice(l--,1):(i=!1,a<r&&(r=a));if(i){o.splice(c--,1);var s=n();void 0!==s&&(e=s)}}return e}a=a||0;for(var c=o.length;c>0&&o[c-1][2]>a;c--)o[c]=o[c-1];o[c]=[t,n,a]},u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},i=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,u.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);u.r(n);var a={};r=r||[null,i({}),i([]),i(i)];for(var o=2&t&&e;"object"==typeof o&&!~r.indexOf(o);o=i(o))Object.getOwnPropertyNames(o).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,u.d(n,a),n},u.d=(e,t)=>{for(var n in t)u.o(t,n)&&!u.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},u.f={},u.e=e=>Promise.all(Object.keys(u.f).reduce(((t,n)=>(u.f[n](e,t),t)),[])),u.u=e=>e+".js",u.miniCssF=e=>{},u.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l={},s="cetacean-university-block-json-theme:",u.l=(e,t,n,a)=>{if(l[e])l[e].push(t);else{var o,r;if(void 0!==n)for(var i=document.getElementsByTagName("script"),c=0;c<i.length;c++){var m=i[c];if(m.getAttribute("src")==e||m.getAttribute("data-webpack")==s+n){o=m;break}}o||(r=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,u.nc&&o.setAttribute("nonce",u.nc),o.setAttribute("data-webpack",s+n),o.src=e),l[e]=[t];var p=(t,n)=>{o.onerror=o.onload=null,clearTimeout(d);var a=l[e];if(delete l[e],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((e=>e(n))),t)return t(n)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),r&&document.head.appendChild(o)}},u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.j=6221,(()=>{var e;u.g.importScripts&&(e=u.g.location+"");var t=u.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var a=n.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=n[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),u.p=e+"../../"})(),(()=>{var e={6221:0};u.f.j=(t,n)=>{var a=u.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var o=new Promise(((n,o)=>a=e[t]=[n,o]));n.push(a[2]=o);var r=u.p+u.u(t),i=new Error;u.l(r,(n=>{if(u.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",i.name="ChunkLoadError",i.type=o,i.request=r,a[1](i)}}),"chunk-"+t,t)}},u.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[r,i,l]=n,s=0;if(r.some((t=>0!==e[t]))){for(a in i)u.o(i,a)&&(u.m[a]=i[a]);if(l)var c=l(u)}for(t&&t(n);s<r.length;s++)o=r[s],u.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return u.O(c)},n=globalThis.webpackChunkcetacean_university_block_json_theme=globalThis.webpackChunkcetacean_university_block_json_theme||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var p=u.O(void 0,[8096],(()=>u(3010)));p=u.O(p)})();